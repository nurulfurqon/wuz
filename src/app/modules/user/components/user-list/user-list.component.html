<app-toast class="toast" [message]="errorMessage" [isShow]="isShowToast" (toastClose)="onToastClose()"></app-toast>
<section class="w-full flex flex-col items-center px-5 py-16 md:py-20 bg-white">
  <div class="w-full max-w-5xl flex flex-col items-center justify-start">
    <h2 class="font-bold text-3xl md:text-5xl md:leading-tight max-w-2xl text-center">
      Unlocking Potential:<br>Discovering the Best Talent in Your Screen
    </h2>
  </div>
</section>
<section class="w-full flex flex-col items-center px-5 bg-[#f5f6f7]">
  <div class="w-full max-w-5xl flex flex-col items-start justify-start py-16 md:py-20">
    <div class="w-full flex items-center justify-center mb-8 md:mb-12">
      <div class="relative w-full max-w-lg flex items-center justify-start">
        <svg xmlns="http://www.w3.org/2000/svg" class="absolute left-3 md:left-4 w-5 h-5 md:w-6 md:h-6 text-gray-400" viewBox="0 0 512 512"><path fill="currentColor" d="M456.69 421.39L362.6 327.3a173.81 173.81 0 0 0 34.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 0 0 327.3 362.6l94.09 94.09a25 25 0 0 0 35.3-35.3M97.92 222.72a124.8 124.8 0 1 1 124.8 124.8a124.95 124.95 0 0 1-124.8-124.8"/></svg>
        <input [(ngModel)]="searchInput" (ngModelChange)="onSearchInputChange()" type="text" class="w-full pl-9 pr-4 md:pr-5 md:pl-12 py-[10px] md:py-3 text-sm md:text-base border border-gray-300 rounded-3xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ease-out-regular duration-300" placeholder="Search by cases, ex: 'innovative'">
      </div>
    </div>
    @if (isLoading$ | async) {
      <app-user-list-loading class="w-full" />
    } @else {
      <div class="grid grid-cols-1 md:grid-cols-3 gap-5 w-full user-list">
        @for (item of filteredUsers$ | async; track $index) {
          <div class="w-full flex flex-col items-end justify-start border border-gray-200 p-4 rounded-xl bg-white transition-all ease-out-relax duration-300 shadow-sm hover:z-10 hover:shadow-2xl">
            <div class="flex-1 flex flex-col w-full">
              <div class="flex items-start justify-start space-x-4">
                <div class="w-12 h-12 bg-zinc-100 rounded-lg flex items-center justify-center">
                  <svg class="h-6 w-6 fill-zinc-400" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path d="M13.9534 1.51687L12.261 10.4085L18.3919 10.4291L10.0467 22.4831L11.739 12.7009L5.60855 12.6795L13.9534 1.51687ZM13.9545 0.0168926C13.914 0.0168926 13.8736 0.0183691 13.8338 0.0213457C13.5691 0.0427441 13.3935 0.131244 13.1854 0.271119C13.0683 0.349246 12.9626 0.443412 12.8716 0.550869C12.8442 0.583121 12.8184 0.616659 12.7943 0.651369L4.38942 11.775C4.05755 12.2299 4.0088 12.8303 4.2638 13.332C4.51842 13.8338 5.0333 14.1518 5.59767 14.1559L9.92742 14.1874L8.56617 22.2075C8.4368 22.8968 8.8043 23.5838 9.45117 23.8605C9.63916 23.9413 9.84166 23.9829 10.0463 23.9828C10.5177 23.9828 10.905 23.7623 11.1957 23.364L19.611 11.31C19.9429 10.8551 19.9913 10.254 19.7367 9.75297C19.482 9.25122 18.9672 8.9332 18.4028 8.9291L14.073 8.9216L15.4197 1.86972C15.4482 1.75427 15.4626 1.63577 15.4624 1.51685C15.4624 0.705346 14.8163 0.0438457 14.0078 0.0175957C13.9898 0.0168457 13.9722 0.0168457 13.9546 0.0168457L13.9545 0.0168926Z" fill="current"/>
                  </svg>
                </div>
                <div class="flex flex-col items-start justify-start">
                  <h4 class="md:text-lg font-medium mb-1">{{item.name}}</h4>
                  <a href="mailto:{{item.email}}" target="_blank" class="flex items-center space-x-2 mb-1">
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 md:w-[18px] md:h-[18px]" viewBox="0 0 512 512"><rect width="416" height="320" x="48" y="96" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" rx="40" ry="40"/><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="m112 160l144 112l144-112"/></svg>
                    <p class="text-sm text-gray-500">{{item.email}}</p>
                  </a>
                  <a href="https://{{item.website}}" target="_blank" class="flex items-center space-x-2 mb-1">
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 md:w-[18px] md:h-[18px]" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"/><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"/></svg>
                    <p class="text-sm text-gray-500">{{item.website}}</p>
                  </a>
                </div>
              </div>
              <div class="w-full h-[1px] bg-gray-300 my-3"></div>
              <div class="w-full">
                <p class="text-xs text-gray-500">Case</p>
                <p class="text-sm">{{item.company?.bs}}</p>
              </div>
            </div>
            <a [routerLink]="['/', item.id]" class="inline-flex items-center justify-end mt-5 pr-1 group">
              <button class="flex items-center justify-start text-blue-500 text-sm font-medium space-x-1">
                <span>View Detail</span>
                <div class="w-4 h-4 relative overflow-hidden">
                  <svg xmlns="http://www.w3.org/2000/svg" class="absolute w-4 h-4 opacity-0 group-hover:opacity-100 -translate-x-1 transition-transform ease-out-relax duration-300 group-hover:translate-x-0" viewBox="0 0 512 512"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="48" d="m268 112l144 144l-144 144m124-144H100"/></svg>
                  <svg xmlns="http://www.w3.org/2000/svg" class="absolute w-4 h-4 opacity-100 group-hover:opacity-0" viewBox="0 0 512 512"><path d="M294.1 256L167 129c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.3 34 0L345 239c9.1 9.1 9.3 23.7.7 33.1L201.1 417c-4.7 4.7-10.9 7-17 7s-12.3-2.3-17-7c-9.4-9.4-9.4-24.6 0-33.9l127-127.1z" fill="currentColor"/></svg>
                </div>
              </button>
            </a>
          </div>
        } @empty {
          <div class="w-full col-span-3 flex flex-col items-center justify-center min-h-[40vh] py-10">
            <img src="/assets/images/illustration-empty.png" class="object-cover w-full max-w-72 mb-5" alt="No users found" />
            <p class="text-gray-500">Oops! No users found</p>
          </div>
        }
      </div>
    }
  </div>
</section>
